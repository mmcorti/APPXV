<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Confessions Live Control & Guest Entry</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ee5b2b",
                        "postit-yellow": "#FFD700",
                        "background-light": "#f8f6f6",
                        "background-dark": "#0f0f0f",
                        "guest-dark": "#221510",
                        "card-dark": "#1a1a1a",
                        "border-dark": "#332019",
                    },
                    fontFamily: {
                        "display": ["Plus Jakarta Sans", "sans-serif"]
                    },
                    borderRadius: {"DEFAULT": "1rem", "lg": "2rem", "xl": "3rem", "full": "9999px"},
                },
            },
        }
    </script>
    <style>
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .ios-toggle {
            position: relative;
            display: inline-block;
            width: 52px;
            height: 32px;
        }
        .ios-toggle input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #332019;
            transition: .4s;
            border-radius: 34px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #ee5b2b;
        }
        input:checked + .slider:before {
            transform: translateX(20px);
        }
        .ios-shadow {
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .confession-note {
            box-shadow: 2px 4px 10px rgba(0,0,0,0.15);
            transition: transform 0.3s ease;
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .material-symbols-outlined.filled {
            font-variation-settings: 'FILL' 1, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
    </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
  </head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-white min-h-screen">
    <div id="root"></div>

    <!-- React Core -->
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <!-- Router -->
    <script src="https://unpkg.com/history@5/umd/history.development.js"></script>
    <script src="https://unpkg.com/react-router@6.3.0/umd/react-router.development.js"></script>
    <script src="https://unpkg.com/react-router-dom@6.3.0/umd/react-router-dom.development.js"></script>
    <!-- Babel -->
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect } = React;
        const { createRoot } = ReactDOM;
        const { MemoryRouter, Routes, Route, Link, useNavigate, useLocation } = ReactRouterDOM;

        // --- Mock Data ---
        const MOCK_CONFESSIONS = [
            { id: 1, text: "I still use my ex's Netflix account and they have no idea...", author: "Anonymous", color: "#fef08a", rotate: "-3deg" },
            { id: 2, text: "I ate the last donut and blamed it on Steve.", author: "Guilty_Soul", color: "#bfdbfe", rotate: "6deg" },
            { id: 3, text: "I actually love karaoke but only in the shower.", author: "SingingKing", color: "#bbf7d0", rotate: "-6deg" },
            { id: 4, text: "The coffee machine broke because I tried to make soup in it.", author: "SoupLover", color: "#fecaca", rotate: "3deg" },
            { id: 5, text: "I'm just here for the free pizza!", author: "HonestGuest", color: "#ddd6fe", rotate: "-12deg" },
            { id: 6, text: "I have a crush on the person in the blue shirt!", author: "SecretAdmirer", color: "#fde68a", rotate: "12deg" }
        ];

        // --- Components ---

        const AdminDashboard = () => {
            const navigate = useNavigate();
            return (
                <div className="pb-24">
                    <div className="sticky top-0 z-50 bg-background-light/80 dark:bg-background-dark/80 backdrop-blur-md border-b border-gray-200 dark:border-white/5">
                        <div className="flex items-center p-4 justify-between max-w-md mx-auto">
                            <div className="flex items-center gap-3">
                                <div className="size-10 rounded-full bg-primary/20 flex items-center justify-center text-primary">
                                    <span className="material-symbols-outlined">settings_input_component</span>
                                </div>
                                <div>
                                    <h2 className="text-lg font-bold leading-tight">Confessions Panel</h2>
                                    <p className="text-xs text-primary font-medium flex items-center gap-1">
                                        <span className="flex size-1.5 rounded-full bg-primary animate-pulse"></span>
                                        LIVE CONTROL
                                    </p>
                                </div>
                            </div>
                            <button className="size-10 flex items-center justify-center rounded-full bg-card-dark text-white border border-white/5">
                                <span className="material-symbols-outlined text-[20px]">notifications</span>
                            </button>
                        </div>
                    </div>

                    <main className="max-w-md mx-auto p-4 space-y-6">
                        <div className="grid grid-cols-2 gap-4">
                            <div className="bg-white dark:bg-card-dark rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm">
                                <div className="flex items-center justify-between mb-2">
                                    <p className="text-gray-500 dark:text-gray-400 text-sm font-medium">Messages</p>
                                    <span className="material-symbols-outlined text-postit-yellow text-sm">sticky_note_2</span>
                                </div>
                                <p className="text-2xl font-bold">1,482</p>
                                <p className="text-[#0bda12] text-xs font-medium mt-1">+12% vs last hr</p>
                            </div>
                            <div className="bg-white dark:bg-card-dark rounded-2xl p-4 border border-gray-100 dark:border-white/5 shadow-sm">
                                <div className="flex items-center justify-between mb-2">
                                    <p className="text-gray-500 dark:text-gray-400 text-sm font-medium">Queue</p>
                                    <span className="material-symbols-outlined text-primary text-sm">pending_actions</span>
                                </div>
                                <p className="text-2xl font-bold">24</p>
                                <p className="text-gray-400 text-xs mt-1">Ready to post</p>
                            </div>
                        </div>

                        <div className="bg-white dark:bg-card-dark rounded-3xl p-6 border border-gray-100 dark:border-white/5 shadow-lg space-y-6">
                            <div className="flex items-center justify-between">
                                <div>
                                    <h3 className="text-lg font-bold">Engine Status</h3>
                                    <p className="text-sm text-gray-500 dark:text-gray-400">Reception is currently active</p>
                                </div>
                                <label className="ios-toggle">
                                    <input defaultChecked type="checkbox"/>
                                    <span className="slider"></span>
                                </label>
                            </div>
                            <button 
                                onClick={() => navigate('/screen')}
                                className="w-full bg-primary hover:bg-primary/90 text-white font-bold py-5 rounded-2xl flex items-center justify-center gap-3 transition-all active:scale-[0.98] shadow-lg shadow-primary/20">
                                <span className="material-symbols-outlined">rocket_launch</span>
                                LAUNCH BIG SCREEN
                            </button>
                        </div>

                        <div className="space-y-4">
                            <h2 className="text-xl font-bold tracking-tight px-1">Visual Settings</h2>
                            <div className="bg-white dark:bg-card-dark rounded-3xl overflow-hidden border border-gray-100 dark:border-white/5 shadow-sm">
                                <div className="relative group">
                                    <div className="w-full h-40 bg-center bg-no-repeat bg-cover flex flex-col justify-end overflow-hidden" style={{backgroundImage: 'url("https://lh3.googleusercontent.com/aida-public/AB6AXuAJYU2fuJI3YWUzaClnJ1-pbOWFMmCXVkZTkVHXDuGTH-spj8sCaB2AfldGssXgmb2WBREtSiWzSj2GQz-lY0JiMYKElcgdLjKVp3V0_7T6OrPWANOdtVXkc8Rwi64YNIJzqu3EU43z05_hntrsuPrbZWNoeyPfysSqIUHdSyLFm3hVg5_W0bNWRJsxLsh_MUFg7AM5fba-TuZ0eA2aM6yvc2UaKZpvaLAykRpUlj18bnFmrmWaXIZsVXvrU02ZtPd6c9wtmALPNIk")'}}>
                                        <div className="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent"></div>
                                        <div className="relative p-4 flex justify-between items-end">
                                            <span className="text-white text-xs font-bold uppercase tracking-widest bg-black/40 backdrop-blur px-2 py-1 rounded">Live Preview</span>
                                            <button className="bg-white/20 hover:bg-white/30 backdrop-blur-md text-white p-2 rounded-full transition-colors">
                                                <span className="material-symbols-outlined text-[18px]">fullscreen</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div className="p-5 space-y-4">
                                    <div className="flex flex-col gap-2">
                                        <p className="text-sm font-semibold text-gray-500 dark:text-gray-400">Background URL</p>
                                        <div className="flex gap-2">
                                            <div className="relative flex-1">
                                                <span className="material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 text-[20px]">link</span>
                                                <input className="w-full pl-10 pr-4 py-3 bg-gray-50 dark:bg-background-dark border border-gray-200 dark:border-border-dark rounded-xl focus:ring-primary focus:border-primary text-sm" placeholder="Enter image URL..." defaultValue="https://live-assets.event/bg-102.jpg"/>
                                            </div>
                                            <button className="bg-primary/10 text-primary p-3 rounded-xl border border-primary/20 flex items-center justify-center transition-all active:bg-primary/20">
                                                <span className="material-symbols-outlined">upload_file</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="bg-white dark:bg-card-dark rounded-3xl p-5 border border-gray-100 dark:border-white/5 shadow-sm">
                            <div className="flex items-center justify-between mb-4">
                                <h3 className="font-bold">Recent Confessions</h3>
                                <button className="text-primary text-sm font-bold">View All</button>
                            </div>
                            <div className="space-y-3">
                                {MOCK_CONFESSIONS.slice(0, 2).map((conf, idx) => (
                                    <div key={conf.id} className={`flex gap-3 items-center p-3 rounded-2xl bg-gray-50 dark:bg-background-dark/50 border border-gray-100 dark:border-white/5 ${idx === 1 ? 'opacity-60' : ''}`}>
                                        <div className={`size-2 rounded-full ${idx === 0 ? 'bg-postit-yellow' : 'bg-primary'}`}></div>
                                        <p className="text-sm flex-1 truncate font-medium">"{conf.text}"</p>
                                        <span className="material-symbols-outlined text-gray-400 text-[18px]">more_vert</span>
                                    </div>
                                ))}
                            </div>
                        </div>
                    </main>

                    <BottomNav active="dashboard" />
                </div>
            );
        };

        const BottomNav = ({ active }) => {
            const navigate = useNavigate();
            const navItems = [
                { id: 'dashboard', icon: 'dashboard', label: 'Dashboard', path: '/' },
                { id: 'moderation', icon: 'chat_bubble', label: 'Moderation', path: '/guest' },
                { id: 'insights', icon: 'analytics', label: 'Insights', path: '/' },
                { id: 'settings', icon: 'tune', label: 'Settings', path: '/' },
            ];

            return (
                <nav className="fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-card-dark/90 backdrop-blur-xl border-t border-gray-200 dark:border-white/5 pb-8 pt-2 z-[60]">
                    <div className="max-w-md mx-auto flex justify-around items-center px-4">
                        {navItems.map(item => (
                            <button 
                                key={item.id}
                                onClick={() => navigate(item.path)}
                                className={`flex flex-col items-center gap-1 ${active === item.id ? 'text-primary' : 'text-gray-400'}`}>
                                <span className={`material-symbols-outlined ${active === item.id ? 'filled' : ''} text-[28px]`}>{item.icon}</span>
                                <span className="text-[10px] font-bold">{item.label}</span>
                            </button>
                        ))}
                    </div>
                </nav>
            );
        };

        const GuestEntry = () => {
            const [text, setText] = useState("");
            const [submitted, setSubmitted] = useState(false);
            const navigate = useNavigate();

            const handleSubmit = () => {
                if (text.trim()) {
                    setSubmitted(true);
                }
            };

            return (
                <div className="bg-background-light dark:bg-guest-dark text-white font-display antialiased min-h-screen relative overflow-hidden">
                    <div className="relative flex min-h-screen w-full flex-col max-w-md mx-auto border-x border-white/5 shadow-2xl bg-background-light dark:bg-guest-dark">
                        <header className="flex items-center p-4 pb-2 justify-between z-10">
                            <button onClick={() => navigate('/')} className="text-primary flex size-12 shrink-0 items-center justify-start">
                                <span className="material-symbols-outlined text-2xl">close</span>
                            </button>
                            <h2 className="text-[#221510] dark:text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1 text-center">Confessions</h2>
                            <div className="size-12 flex items-center justify-end">
                                <span className="material-symbols-outlined text-primary">info</span>
                            </div>
                        </header>

                        <main className="flex-1 flex flex-col px-6 pt-8 pb-10 overflow-y-auto no-scrollbar">
                            <div className="mb-2">
                                <h2 className="text-[#221510] dark:text-white tracking-tight text-[32px] font-bold leading-tight text-left">Share your secret</h2>
                            </div>
                            <div className="mb-8">
                                <p className="text-[#221510]/60 dark:text-white/60 text-base font-normal leading-relaxed max-w-[90%]">
                                    Your message will appear as a chaotic post-it on the big screen. Keep it anonymous.
                                </p>
                            </div>

                            <div className="flex-1 flex flex-col">
                                <div className="relative group">
                                    <label className="flex flex-col w-full h-full">
                                        <div className="flex justify-between items-center mb-2">
                                            <span className="text-[#221510] dark:text-white text-sm font-medium uppercase tracking-wider opacity-50">The Confession</span>
                                        </div>
                                        <textarea 
                                            value={text}
                                            onChange={(e) => setText(e.target.value.slice(0, 140))}
                                            className="form-input flex w-full min-h-[220px] resize-none overflow-hidden rounded-xl text-[#221510] dark:text-white focus:outline-0 focus:ring-2 focus:ring-primary border border-black/10 dark:border-[#673f32] bg-white dark:bg-[#332019] placeholder:text-[#221510]/30 dark:placeholder:text-[#c9a092]/50 p-5 text-xl font-normal leading-normal transition-all ios-shadow" 
                                            maxLength="140" 
                                            placeholder="I once... (be honest!)"
                                        ></textarea>
                                    </label>
                                    <div className="absolute bottom-4 right-4">
                                        <p className="text-primary text-sm font-bold leading-normal px-2 py-1 bg-primary/10 rounded-lg backdrop-blur-sm">
                                            {text.length} / 140
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div className="mt-8 flex flex-col gap-4">
                                <button 
                                    onClick={handleSubmit}
                                    className="w-full bg-primary hover:bg-primary/90 text-white font-bold py-5 rounded-full text-lg shadow-lg active:scale-[0.98] transition-all flex items-center justify-center gap-2">
                                    <span className="material-symbols-outlined">send</span>
                                    Send Confession
                                </button>
                                <p className="text-center text-xs text-[#221510]/40 dark:text-white/30 uppercase tracking-[0.2em] font-semibold">
                                    Live Event Mode Active
                                </p>
                            </div>
                        </main>

                        {submitted && (
                            <div className="absolute inset-0 z-50 bg-background-light dark:bg-guest-dark flex flex-col items-center justify-center p-8 text-center animate-in fade-in duration-300">
                                <div className="size-24 bg-primary rounded-full flex items-center justify-center mb-6 shadow-xl shadow-primary/30">
                                    <span className="material-symbols-outlined text-white text-5xl">check_circle</span>
                                </div>
                                <h3 className="text-3xl font-bold text-[#221510] dark:text-white mb-4">Message Sent!</h3>
                                <p className="text-[#221510]/60 dark:text-white/60 text-lg mb-8 leading-relaxed">
                                    Look at the big screen... your secret is about to cause some chaos ðŸ˜ˆ
                                </p>
                                <button 
                                    onClick={() => {setSubmitted(false); setText("");}}
                                    className="bg-[#221510]/5 dark:bg-white/10 text-[#221510] dark:text-white font-semibold px-8 py-3 rounded-full hover:bg-black/10 transition-colors">
                                    Send another
                                </button>
                            </div>
                        )}
                    </div>

                    <div className="fixed top-0 left-0 w-full h-full -z-10 pointer-events-none overflow-hidden">
                        <div className="absolute top-[-10%] right-[-10%] w-[300px] h-[300px] bg-primary/10 rounded-full blur-[100px]"></div>
                        <div className="absolute bottom-[-5%] left-[-5%] w-[250px] h-[250px] bg-primary/5 rounded-full blur-[80px]"></div>
                    </div>
                </div>
            );
        };

        const BigScreenView = () => {
            const navigate = useNavigate();
            const [newNotification, setNewNotification] = useState(true);

            useEffect(() => {
                const timer = setTimeout(() => setNewNotification(false), 5000);
                return () => clearTimeout(timer);
            }, []);

            return (
                <div className="relative h-screen w-full flex flex-col overflow-hidden bg-black text-white font-display">
                    {/* Background */}
                    <div className="absolute inset-0 z-0 opacity-40 blur-sm scale-110" style={{
                        backgroundImage: 'url("https://lh3.googleusercontent.com/aida-public/AB6AXuB0SEUOkay9o51dXuKcQEB1P7dXwolUKSes6jx5s8T_3icnKU6u7_fEdKs6TUJyTuXbXEWp9U8zIgPrNgUBaSvJkGYK3l7-0psde0w2p9sdJ0mkTBI4F6YKnXD9b8JOS5JADpyLlqeDkKyk-VkAvyUWOflxNhoeJsXSkjnm9a6ogy9rbJi1_tnhiGHIzxcZzjuaC-s4sCaSeWftZQFxcw3TF29OujVnHM1HSFDk5tkvPw26VeuwCHi8LgXDvNe-2dHSfficF_RVBE8")',
                        backgroundSize: 'cover',
                        backgroundPosition: 'center'
                    }}></div>

                    {/* AppBar */}
                    <div className="relative z-20 flex items-center bg-transparent p-4 pb-2 justify-between">
                        <div className="text-white flex size-12 shrink-0 items-center">
                            <span className="material-symbols-outlined text-3xl">celebration</span>
                        </div>
                        <h2 className="text-white text-lg font-bold leading-tight tracking-[-0.015em] flex-1">Giant Screen View</h2>
                        <div className="flex w-12 items-center justify-end">
                            <button onClick={() => navigate('/')} className="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-12 bg-white/10 text-white gap-2 text-base font-bold leading-normal tracking-[0.015em] min-w-0 p-0 w-12">
                                <span className="material-symbols-outlined">settings</span>
                            </button>
                        </div>
                    </div>

                    {/* Main Display */}
                    <div className="relative flex-1 p-4 grid grid-cols-12 gap-4">
                        <div className="col-span-8 relative">
                            {MOCK_CONFESSIONS.map((conf, idx) => {
                                const positions = [
                                    "top-[10%] left-[5%]", "top-[25%] left-[40%]", "top-[50%] left-[15%]", 
                                    "top-[60%] left-[45%]", "top-[15%] left-[70%]", "top-[40%] left-[60%]"
                                ];
                                return (
                                    <div 
                                        key={conf.id} 
                                        className={`confession-note absolute ${positions[idx]} w-32 h-32 sm:w-40 sm:h-40 text-black p-3 sm:p-4 rounded-sm flex flex-col justify-between`}
                                        style={{backgroundColor: conf.color, transform: `rotate(${conf.rotate})`}}>
                                        <p className="text-xs sm:text-sm font-semibold leading-tight">{conf.text}</p>
                                        <span className="text-[10px] opacity-60">{conf.author}</span>
                                    </div>
                                );
                            })}
                        </div>

                        {/* Sidebar */}
                        <div className="col-span-4 flex flex-col gap-4">
                            <div className="bg-white/10 backdrop-blur-md p-4 rounded-xl border border-white/20 flex flex-col items-center">
                                <h4 className="text-primary text-[10px] sm:text-sm font-bold uppercase tracking-widest mb-3">Scan to confess</h4>
                                <div className="w-24 h-24 sm:w-32 sm:h-32 bg-white p-2 rounded-lg shadow-lg">
                                    <img alt="QR Code" className="w-full h-full" src="https://lh3.googleusercontent.com/aida-public/AB6AXuD-oraEaMNrk1hMcC4jwCF3or1tsdUukRE3v4WXEnhW2DY94PJdAzr1ecpW6SOj1MgIdMHNjWV2gzzwMfQh-2rQQs36jNCLIHWzP981PUrb_wY0w7HjmCLHzBFNCn7HmhhiRUFiZPEnmzVlJozNbX4XCJ3RRvU8s1zpRiUr3ZPJMTzqRGJegT-4l2y77QxpCVajoZn8uwV-63Gb8tKeHOHIahf1ZN3z-UnKCxNv1qrQVFVQ_35Dq-qNxQEhNUdKzLPMd9LSaF5qAzs"/>
                                </div>
                                <p className="text-[10px] text-white/70 mt-3 text-center">Scan to anonymously post!</p>
                            </div>

                            <div className="bg-white/5 rounded-xl border border-white/10 flex-1 flex flex-col overflow-hidden">
                                <h3 className="text-white text-xs sm:text-md font-bold leading-tight px-4 py-3 border-b border-white/10 flex items-center gap-2">
                                    <span className="material-symbols-outlined text-primary text-sm">sensors</span>
                                    Live Feed
                                </h3>
                                <div className="flex-1 overflow-y-auto p-3 space-y-3">
                                    {MOCK_CONFESSIONS.slice(0, 4).map((conf, idx) => (
                                        <div key={conf.id} className={`flex gap-2 items-start ${idx > 1 ? 'opacity-30' : ''}`}>
                                            <div className="size-6 rounded-full bg-primary flex items-center justify-center text-[10px] font-bold">
                                                {conf.author.charAt(0)}
                                            </div>
                                            <div className="flex-1">
                                                <p className="text-[11px] font-semibold text-white/90">{conf.author}</p>
                                                <p className="text-[10px] text-white/60 truncate">{conf.text}</p>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>

                    {newNotification && (
                        <div className="absolute bottom-6 left-1/2 -translate-x-1/2 z-50">
                            <div className="bg-primary px-6 py-2 rounded-full shadow-2xl flex items-center gap-3 animate-bounce">
                                <span className="material-symbols-outlined text-white">notification_important</span>
                                <span className="text-sm font-bold text-white">New confession incoming!</span>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const App = () => {
            return (
                <MemoryRouter>
                    <Routes>
                        <Route path="/" element={<AdminDashboard />} />
                        <Route path="/guest" element={<GuestEntry />} />
                        <Route path="/screen" element={<BigScreenView />} />
                    </Routes>
                </MemoryRouter>
            );
        };

        const container = document.getElementById('root');
        const root = createRoot(container);
        root.render(<App />);
    </script>
</body>
</html>